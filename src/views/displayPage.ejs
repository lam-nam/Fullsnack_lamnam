<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Display Page</title>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }

      th,
      td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }

      tr:hover {
        background-color: #ccc;
      }
      button {
        cursor: pointer;
        margin: 5px;
        width: 53px;
      }
      .back {
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <table>
      <tr>
        <th>Email</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Address</th>
        <th>Action</th>
      </tr>
      <% if (users.length > 0) { %> <% users.forEach((user, index) => { %>
      <tr>
        <td><%= user.email %></td>
        <td><%= user.firstName %></td>
        <td><%= user.lastName %></td>
        <td><%= user.address %></td>
        <td>
          <a href="/edit-crud/<%= user.id %>"><button>Edit</button></a>
          <!-- <a href="/delete-crud/<%= user.id %>"><button>Delete</button></a> -->

          <form
            action="/delete-crud/<%= user.id %>?_method=DELETE"
            method="POST"
          >
            <button
              type="submit"
              onclick="return confirm('Are you sure you want to delete this user?');"
            >
              Delete
            </button>
          </form>
        </td>
      </tr>
      <% }) %> <% } else { %>
      <tr>
        <td colspan="4" style="text-align: center">No users found.</td>
      </tr>
      <% } %>
    </table>
    <div class="back">
      <a href="/crud"
        ><button style="margin-top: 10px; margin-left: 710px">
          Create new users
        </button></a
      >
    </div>
  </body>
</html>

<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CRUD Table</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h2>User List</h2>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>#</th>
            <th>Email</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Address</th>
            <th>Phone Number</th>
            <th>Gender</th>
            <th>Role</th>
          </tr>
        </thead>
        <tbody>
          <% if (users.length > 0) { %> <% users.forEach((user, index) => { %>
          <tr>
            <td><%= index + 1 %></td>
            <td><%= user.email %></td>
            <td><%= user.firstName %></td>
            <td><%= user.lastName %></td>
            <td><%= user.address %></td>
            <td><%= user.phoneNumber %></td>
            <td><%= user.gender === 1 ? "Male" : "Female" %></td>
            <td>
              <% if (user.roleId === "R1") { %> Admin <% } else if (user.roleId
              === "R2") { %> Doctor <% } else { %> Patient <% } %>
            </td>
          </tr>
          <% }); %> <% } else { %>
          <tr>
            <td colspan="8" class="text-center">No users found.</td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  </body>
</html> -->
